{"ast":null,"code":"import _classCallCheck from\"/Users/amyolsen/Documents/ReactJS/next-trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/amyolsen/Documents/ReactJS/next-trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/amyolsen/Documents/ReactJS/next-trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/amyolsen/Documents/ReactJS/next-trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/amyolsen/Documents/ReactJS/next-trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/amyolsen/Documents/ReactJS/next-trip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{BrowserRouter,Route}from'react-router-dom';import{ChooseDirection}from'./Direction';import{ChooseRoute}from'./Route';import{ShowStops}from'./Stops';import'./Mobile.css';import'./Tablet.css';import'./Desktop.css';import'./Luxury.css';import'./App.css';var Master=/*#__PURE__*/function(_Component){_inherits(Master,_Component);function Master(props){var _this;_classCallCheck(this,Master);_this=_possibleConstructorReturn(this,_getPrototypeOf(Master).call(this,props));_this.componentDidMount=function(){_this.setState({routeLoading:true});fetch('https://svc.metrotransit.org/NexTrip/Routes?format=json').then(function(res){return res.json();}).then(function(result){_this.setState({routeLoading:false,routeLoaded:true,routeData:result});},function(error){_this.setState({routeLoaded:false,routeLoading:false,error:error});});};_this.getStops=function(){_this.setState({stopLoading:true});fetch('https://svc.metrotransit.org/NexTrip/Stops/'+_this.state.route+'/'+_this.state.direction+'?format=json').then(function(res){return res.json();}).then(function(result){_this.setState({stopData:result,stopLoaded:true});},function(error){_this.setState({stopLoaded:false,stopLoading:false,error:error});});};_this.directionHandler=function(event){_this.setState({direction:event.target.value},_this.getStops);};_this.routeHandler=function(event){// Update state values\n_this.setState({route:event.target.value,routeChanged:true,directionLoading:true,directionLoaded:false});fetch('https://svc.metrotransit.org/NexTrip/Directions/'+event.target.value+'?format=json').then(function(res){return res.json();}).then(function(result){_this.setState({directionLoaded:true,directionLoading:false,directionData:result,direction:result[0].Value});if(!window.location.href.toString().includes('#Directions')){window.history.pushState(window.location.href,'',window.location.href+'#Directions');}_this.getStops();},function(error){_this.setState({directionLoaded:false,directionLoading:false,error:error});});};_this.state={routeData:[],route:'',routeChanged:false,routeLoaded:false,routeLoading:false,directionData:[],direction:'',directionLoaded:false,directionLoading:false,stopData:[],stopLoaded:false,stopLoading:false,error:null};_this.getStops=_this.getStops.bind(_assertThisInitialized(_this));_this.directionHandler=_this.directionHandler.bind(_assertThisInitialized(_this));_this.routeHandler=_this.routeHandler.bind(_assertThisInitialized(_this));return _this;}_createClass(Master,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"route-container\"},React.createElement(ChooseRoute,{routeLoaded:this.state.routeLoaded,routeData:this.state.routeData,routeHandler:this.routeHandler,routeChanged:this.state.routeChanged}),React.createElement(\"div\",{className:\"directions-container\",\"data-testid\":\"Direction-Container\"},React.createElement(ChooseDirection,{directionLoaded:this.state.directionLoaded,directionData0:this.state.directionData[0],directionData1:this.state.directionData[1],directionHandler:this.directionHandler,testDirection:false}))),React.createElement(\"div\",{className:\"stops-container\",\"data-testid\":\"Stops-Container\"},React.createElement(\"h2\",null,\"Stops\"),React.createElement(ShowStops,{stopLoaded:this.state.stopLoaded,stopData:this.state.stopData}),React.createElement(Route,{path:\"/stops\",render:function render(){return React.createElement(ShowStops,{stopLoaded:_this2.state.stopLoaded,stopData:_this2.state.stopData});}})));}}]);return Master;}(Component);function initializeNexTrip(){if(!window.location.href.toString().includes('NexTrip')){window.history.pushState(window.location.href,'',window.location.href+'NexTrip');}}function App(){initializeNexTrip();return React.createElement(BrowserRouter,null,React.createElement(\"div\",{className:\"content\"},React.createElement(\"div\",{className:\"note\"},React.createElement(\"h4\",null,\"This application is sourced by real-time data from \"),React.createElement(\"img\",{alt:\"Metro Transit Logo\",src:\"https://www.metrotransit.org/img/MetroTransitLogo.svg\"})),React.createElement(\"h1\",null,\"NexTrip\"),React.createElement(\"div\",{className:\"application\"},React.createElement(Route,{exact:true,path:\"/NexTrip\",component:Master}))));}export default App;","map":{"version":3,"sources":["/Users/amyolsen/Documents/ReactJS/next-trip/src/App.js"],"names":["React","Component","BrowserRouter","Route","ChooseDirection","ChooseRoute","ShowStops","Master","props","componentDidMount","setState","routeLoading","fetch","then","res","json","result","routeLoaded","routeData","error","getStops","stopLoading","state","route","direction","stopData","stopLoaded","directionHandler","event","target","value","routeHandler","routeChanged","directionLoading","directionLoaded","directionData","Value","window","location","href","toString","includes","history","pushState","bind","initializeNexTrip","App"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {ChooseDirection} from './Direction';\nimport {ChooseRoute} from './Route';\nimport {ShowStops} from './Stops';\nimport './Mobile.css';\nimport './Tablet.css';\nimport './Desktop.css';\nimport './Luxury.css';\nimport './App.css';\n\nclass Master extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            routeData: [],\n            route: '',\n            routeChanged: false,\n            routeLoaded: false,\n            routeLoading: false,\n            directionData: [],\n            direction: '',\n            directionLoaded: false,\n            directionLoading: false,\n            stopData: [],\n            stopLoaded: false,\n            stopLoading: false,\n            error: null\n        }\n        this.getStops = this\n            .getStops\n            .bind(this);\n        this.directionHandler = this\n            .directionHandler\n            .bind(this);\n        this.routeHandler = this\n            .routeHandler\n            .bind(this);\n    }\n\n    componentDidMount = () => {\n        this.setState({routeLoading: true})\n\n        fetch('https://svc.metrotransit.org/NexTrip/Routes?format=json')\n            .then(res => res.json())\n            .then((result) => {\n                this.setState({routeLoading: false, routeLoaded: true, routeData: result})\n            }, (error) => {\n                this.setState({routeLoaded: false, routeLoading: false, error});\n            })\n    }\n\n    getStops = () => {\n        this.setState({stopLoading: true})\n\n        fetch('https://svc.metrotransit.org/NexTrip/Stops/' + this.state.route + '/' + this.state.direction + '?format=json')\n            .then(res => res.json())\n            .then((result) => {\n                this.setState({stopData: result, stopLoaded: true})\n            }, (error) => {\n                this.setState({stopLoaded: false, stopLoading: false, error});\n            })\n    }\n\n    directionHandler = (event) => {\n        this.setState({\n            direction: event.target.value\n        }, this.getStops);\n    }\n\n    routeHandler = (event) => {\n        // Update state values\n        this.setState({route: event.target.value, routeChanged: true, directionLoading: true, directionLoaded: false})\n\n        fetch('https://svc.metrotransit.org/NexTrip/Directions/' + event.target.value + '?format=json')\n            .then(res => res.json())\n            .then((result) => {\n                this.setState({directionLoaded: true, directionLoading: false, directionData: result, direction: result[0].Value})\n                if (!window.location.href.toString().includes('#Directions')) {\n                    window\n                        .history\n                        .pushState(window.location.href, '', window.location.href + '#Directions');\n                }\n                this.getStops();\n            }, (error) => {\n                this.setState({directionLoaded: false, directionLoading: false, error});\n            })\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className='route-container'>\n                    <ChooseRoute\n                        routeLoaded={this.state.routeLoaded}\n                        routeData={this.state.routeData}\n                        routeHandler={this.routeHandler}\n                        routeChanged={this.state.routeChanged}/>\n\n                    <div className=\"directions-container\" data-testid=\"Direction-Container\">\n                        <ChooseDirection\n                            directionLoaded={this.state.directionLoaded}\n                            directionData0={this.state.directionData[0]}\n                            directionData1={this.state.directionData[1]}\n                            directionHandler={this.directionHandler}\n                            testDirection={false}/>\n                    </div>\n                </div>\n                <div className=\"stops-container\" data-testid=\"Stops-Container\">\n                    <h2>Stops</h2>\n                    <ShowStops stopLoaded={this.state.stopLoaded} stopData={this.state.stopData}/>\n                    <Route\n                        path=\"/stops\"\n                        render={() => <ShowStops stopLoaded={this.state.stopLoaded} stopData={this.state.stopData}/>}/>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nfunction initializeNexTrip () {\n    if (!window.location.href.toString().includes('NexTrip')) {\n        window\n            .history\n            .pushState(window.location.href, '', window.location.href + 'NexTrip');\n    }\n}\n\nfunction App() {\n    initializeNexTrip();\n    return (\n        <BrowserRouter>\n        <div className='content'>\n            <div className='note'>\n                <h4>This application is sourced by real-time data from </h4>\n                <img alt='Metro Transit Logo' src='https://www.metrotransit.org/img/MetroTransitLogo.svg'></img>\n            </div>\n            <h1>NexTrip</h1>\n                <div className='application'>\n                    <Route exact path='/NexTrip' component={Master} />\n                </div>\n        </div>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}