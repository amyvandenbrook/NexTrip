{"ast":null,"code":"var _jsxFileName = \"/Users/amyolsen/Documents/ReactJS/next-trip/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nconst Context = React.createContext();\n\nclass Provider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      routeData: [],\n      route: '',\n      directionData: [],\n      direction: '',\n      stopData: [],\n      error\n    };\n\n    this.handleRoute = event => {\n      this.setState({\n        route: event.target.value\n      });\n      fetch('https://svc.metrotransit.org/NexTrip/Directions/' + this.state.route + '?format=json').then(res => res.json()).then(result => {\n        this.setState({\n          directionData: result,\n          direction: result[0].Value\n        });\n        this.getStops();\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.getStops = () => {\n      fetch('https://svc.metrotransit.org/NexTrip/Stops/' + this.state.route + '/' + this.state.direction + '?format=json').then(res => res.json()).then(result => {\n        this.setState({\n          stopData: result\n        });\n      }, error => {\n        error = error;\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(Context.Provider, {\n      value: {\n        state: this.state,\n        handleRoute: this.handleRoute,\n        getStops: this.getStops\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nconst Stops = ({\n  data\n}) => {\n  return data.map(stop => {\n    return React.createElement(\"li\", {\n      key: stop.Value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, stop.Text);\n  });\n};\n\nconst getStops = () => {\n  console.log(this.state);\n  console.log(\"Direction data\");\n  console.log(this.state.direction);\n  fetch('https://svc.metrotransit.org/NexTrip/Stops/' + this.state.route + '/' + this.state.direction + '?format=json').then(res => res.json()).then(result => {\n    console.log(\"In Stops\");\n    console.log(result);\n    this.setState({\n      stopData: result\n    });\n  }, error => {\n    error = error;\n  });\n  console.log(\"Stop data: \" + this.state.stopData);\n};\n\nconst handleDirectionValue = event => {\n  console.log(\"Made it to the handleDirectionValue\");\n  console.log(this.state.directionData);\n};\n\nconst Directions = ({\n  direction1Text = \"\",\n  direction1Value = \"\",\n  direction2Text = \"\",\n  direction2Value = \"\"\n}) => {\n  if (direction1Text === \"\" && direction1Value === \"\" && direction2Text === \"\" && direction2Value === \"\") {\n    return null;\n  } else {\n    return React.createElement(\"select\", {\n      id: \"Directions\",\n      name: \"Direction\",\n      onChange: handleDirectionValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: direction1Value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, direction1Text), React.createElement(\"option\", {\n      value: direction2Value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, direction2Text));\n  }\n};\n\nclass Routes extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.setState({\n        loading: true\n      });\n      fetch('https://svc.metrotransit.org/NexTrip/Routes?format=json').then(res => res.json()).then(result => {\n        this.setState({\n          loading: false,\n          data: result\n        });\n      }, error => {\n        this.setState({\n          loading: false,\n          error\n        });\n      });\n    };\n\n    this.state = {\n      error: null,\n      loading: false,\n      data: [],\n      directionData: [],\n      value: '',\n      route: '',\n      direction: '',\n      direction1Text: '',\n      direction1Value: '',\n      direction2Text: '',\n      direction2Value: '',\n      stopData: []\n    };\n    this.handleDirection = this.handleDirection.bind(this);\n  }\n\n  getStops() {\n    console.log(this.state);\n    console.log(\"Direction data\");\n    console.log(this.state.direction);\n    fetch('https://svc.metrotransit.org/NexTrip/Stops/' + this.state.route + '/' + this.state.direction + '?format=json').then(res => res.json()).then(result => {\n      console.log(\"In Stops\");\n      console.log(result);\n      this.setState({\n        stopData: result\n      });\n    }, error => {\n      error = error;\n    });\n    console.log(\"Stop data: \" + this.state.stopData);\n  }\n\n  handleDirection(event) {\n    console.log('Received a change');\n    this.setState({\n      route: event.target.value\n    });\n    console.log(event.target.value); // console.log('Get data for: https://svc.metrotransit.org/NexTrip/Directions/'\n    // + )\n\n    fetch('https://svc.metrotransit.org/NexTrip/Directions/' + event.target.value + '?format=json').then(res => res.json()).then(result => {\n      console.log(\"Changing states with new results\");\n      console.log(result);\n      console.log();\n      this.setState({\n        loading: false,\n        directionData: result,\n        direction: result[0].Value,\n        direction1Text: result[0].Text,\n        direction1Value: result[0].Value,\n        direction2Text: result[1].Text,\n        direction2Value: result[1].Value\n      });\n      console.log(this.state.direction);\n      console.log(\"Done loading in directions\");\n      this.getStops();\n    }, error => {\n      this.setState({\n        loading: false,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      loading,\n      data\n    } = this.state;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Error: \", error.message);\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        id: \"Route\",\n        name: \"Route\",\n        onChange: this.handleDirection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, data.map(data => React.createElement(\"option\", {\n        key: data.Route,\n        value: data.Route,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, data.Description))), React.createElement(Directions, {\n        direction1Text: this.state.direction1Text,\n        direction1Value: this.state.direction1Value,\n        direction2Text: this.state.direction2Text,\n        direction2Value: this.state.direction1Value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"stops-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(Stops, {\n        data: this.state.stopData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nfunction App() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, \"Next Trip Application\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, \"Developed by Amy VandenBrook\"), React.createElement(Routes, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/amyolsen/Documents/ReactJS/next-trip/src/App.js"],"names":["React","Component","Context","createContext","Provider","state","routeData","route","directionData","direction","stopData","error","handleRoute","event","setState","target","value","fetch","then","res","json","result","Value","getStops","render","props","children","Stops","data","map","stop","Text","console","log","handleDirectionValue","Directions","direction1Text","direction1Value","direction2Text","direction2Value","Routes","constructor","componentDidMount","loading","handleDirection","bind","message","Route","Description","App"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\n\nconst Context = React.createContext()\n\nclass Provider extends Component {\n    state = {\n        routeData: [],\n        route: '',\n        directionData: [],\n        direction: '',\n        stopData: [],\n        error\n    }\n\n    handleRoute = (event) => {\n        this.setState({route: event.target.value})\n        fetch('https://svc.metrotransit.org/NexTrip/Directions/' + this.state.route + '?format=json')\n            .then(res => res.json())\n            .then((result) => {\n                this.setState({\n                    directionData: result,\n                    direction: result[0].Value\n                });\n                this.getStops()\n            }, (error) => {\n                this.setState({error});\n            })\n    }\n\n    getStops = () => {\n        fetch('https://svc.metrotransit.org/NexTrip/Stops/' + this.state.route + '/' + this.state.direction + '?format=json')\n          .then(res => res.json())\n          .then((result) => {\n              this.setState({\n                  stopData: result\n              })\n          }, (error) => {\n              error = error;\n          })\n    }\n\n    render() {\n        return (\n            <Context.Provider value={{\n                state: this.state,\n                handleRoute: this.handleRoute,\n                getStops: this.getStops\n            }}>\n            {this.props.children}\n            </Context.Provider>\n        )\n    }\n}\n\n\nconst Stops = ({data}) => {\n    return data.map(stop => {\n        return (\n            <li key={stop.Value}>{stop.Text}</li>\n        )\n    })\n}\n\nconst getStops = () => {\n        console.log(this.state)\n        console.log(\"Direction data\")\n        console.log(this.state.direction)\n        fetch('https://svc.metrotransit.org/NexTrip/Stops/' + this.state.route + '/' + this.state.direction + '?format=json')\n          .then(res => res.json())\n          .then((result) => {\n              console.log(\"In Stops\")\n              console.log(result)\n              this.setState({\n                  stopData: result\n              })\n          }, (error) => {\n              error = error;\n          })\n        console.log(\"Stop data: \" + this.state.stopData)\n    }\n\n\nconst handleDirectionValue = ( event ) => {\n    console.log(\"Made it to the handleDirectionValue\")\n    console.log(this.state.directionData)\n}\n\nconst Directions = ({\n    direction1Text = \"\",\n    direction1Value = \"\",\n    direction2Text = \"\",\n    direction2Value = \"\"\n}) => {\n    if (direction1Text === \"\" && direction1Value === \"\" && direction2Text === \"\" && direction2Value === \"\") {\n        return (null)\n    } else {\n        return (\n            <select id=\"Directions\" name=\"Direction\" onChange={handleDirectionValue}>\n                <option value={direction1Value}>{direction1Text}</option>\n                <option value={direction2Value}>{direction2Text}</option>\n            </select>\n        )\n    }\n}\n\n\n\n\nclass Routes extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            loading: false,\n            data: [],\n            directionData: [],\n            value: '',\n            route: '',\n            direction: '',\n            direction1Text: '',\n            direction1Value: '',\n            direction2Text: '',\n            direction2Value: '',\n            stopData: []\n        }\n\n        this.handleDirection = this\n            .handleDirection\n            .bind(this);\n    }\n\n    componentDidMount = () => {\n        this.setState({loading: true})\n        fetch('https://svc.metrotransit.org/NexTrip/Routes?format=json')\n            .then(res => res.json())\n            .then((result) => {\n                this.setState({loading: false, data: result});\n            }, (error) => {\n                this.setState({loading: false, error});\n            })\n    }\n\n    getStops() {\n        console.log(this.state)\n        console.log(\"Direction data\")\n        console.log(this.state.direction)\n        fetch('https://svc.metrotransit.org/NexTrip/Stops/' + this.state.route + '/' + this.state.direction + '?format=json')\n          .then(res => res.json())\n          .then((result) => {\n              console.log(\"In Stops\")\n              console.log(result)\n              this.setState({\n                  stopData: result\n              })\n          }, (error) => {\n              error = error;\n          })\n        console.log(\"Stop data: \" + this.state.stopData)\n    }\n\n    handleDirection(event) {\n        console.log('Received a change')\n        this.setState({route: event.target.value})\n        console.log(event.target.value)\n        // console.log('Get data for: https://svc.metrotransit.org/NexTrip/Directions/'\n        // + )\n        fetch('https://svc.metrotransit.org/NexTrip/Directions/' + event.target.value + '?format=json')\n            .then(res => res.json())\n            .then((result) => {\n                console.log(\"Changing states with new results\")\n                console.log(result)\n                console.log()\n                this.setState({\n                    loading: false,\n                    directionData: result,\n                    direction: result[0].Value,\n                    direction1Text: result[0].Text,\n                    direction1Value: result[0].Value,\n                    direction2Text: result[1].Text,\n                    direction2Value: result[1].Value\n                });\n                console.log(this.state.direction)\n                console.log(\"Done loading in directions\")\n                this.getStops()\n            }, (error) => {\n                this.setState({loading: false, error});\n            })\n    }\n\n    render() {\n        const {error, loading, data} = this.state;\n        if (error) {\n            return <div>Error: {error.message}</div>;\n        } else {\n            return (\n                <div>\n                    <select id=\"Route\" name=\"Route\" onChange={this.handleDirection}>\n                        {data.map(data => (\n                            <option key={data.Route} value={data.Route}>{data.Description}</option>\n                        ))}\n                    </select>\n                    <Directions\n                        direction1Text={this.state.direction1Text}\n                        direction1Value={this.state.direction1Value}\n                        direction2Text={this.state.direction2Text}\n                        direction2Value={this.state.direction1Value}/>\n                    <div className=\"stops-container\">\n                        <ul>\n                            <Stops data={this.state.stopData} />\n                        </ul>\n                    </div>\n                    \n                </div>\n            )\n        }\n    }\n}\n\nfunction App() {\n    return (\n        <div>\n            <h1>Next Trip Application</h1>\n\n            <h2>Developed by Amy VandenBrook</h2>\n            <Routes/>\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}