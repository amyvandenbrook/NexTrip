(this["webpackJsonpnext-trip"]=this["webpackJsonpnext-trip"]||[]).push([[0],{23:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(14),i=a.n(r),c=(a(28),a(15)),d=a(16),s=a(21),l=a(17),u=a(7),p=a(22),m=a(5),h=a(20),f=function(e){return e.directionLoaded&&(window.location.href.toString().includes("#Directions")||e.testDirection)?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"description"},"Choose a direction:"),o.a.createElement("input",{type:"radio",name:"Direction",id:e.directionData0.Value,value:e.directionData0.Value,onClick:e.directionHandler,defaultChecked:!0}),o.a.createElement("label",{htmlFor:e.directionData0.Value},e.directionData0.Text.toLowerCase()),o.a.createElement("input",{type:"radio",name:"Direction",id:e.directionData1.Value,value:e.directionData1.Value,onClick:e.directionHandler}),o.a.createElement("label",{htmlFor:e.directionData1.Value},e.directionData1.Text.toLowerCase())):null},g=function(e){return e.routeLoaded?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Please select a route from the options below to see the directions and stops available for you!"),o.a.createElement("select",{id:"Route","data-testid":"Select-Route",name:"Route",onChange:e.routeHandler},e.routeChanged?null:o.a.createElement("option",{value:-1},"Select a Route"),";",e.routeData.map((function(e){return o.a.createElement("option",{key:e.Route,value:e.Route},e.Description)}))),o.a.createElement("i",{className:"fas fa-arrow-circle-down"})):o.a.createElement("div",null,"Loading")},D=function(e){return e.stopLoaded?o.a.createElement("ul",null,e.stopData.map((function(e){return o.a.createElement("li",{key:e.Value},e.Text)}))):o.a.createElement("div",null,"Please choose a route above to see related stops.")},L=(a(29),a(30),a(31),a(32),a(33),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).componentDidMount=function(){a.setState({routeLoading:!0}),fetch("https://svc.metrotransit.org/NexTrip/Routes?format=json").then((function(e){return e.json()})).then((function(e){a.setState({routeLoading:!1,routeLoaded:!0,routeData:e})}),(function(e){a.setState({routeLoaded:!1,routeLoading:!1,error:e})}))},a.getStops=function(){a.setState({stopLoading:!0}),fetch("https://svc.metrotransit.org/NexTrip/Stops/"+a.state.route+"/"+a.state.direction+"?format=json").then((function(e){return e.json()})).then((function(e){a.setState({stopData:e,stopLoaded:!0})}),(function(e){a.setState({stopLoaded:!1,stopLoading:!1,error:e})}))},a.directionHandler=function(e){a.setState({direction:e.target.value},a.getStops)},a.routeHandler=function(e){a.setState({route:e.target.value,routeChanged:!0,directionLoading:!0,directionLoaded:!1}),fetch("https://svc.metrotransit.org/NexTrip/Directions/"+e.target.value+"?format=json").then((function(e){return e.json()})).then((function(e){a.setState({directionLoaded:!0,directionLoading:!1,directionData:e,direction:e[0].Value}),window.location.href.toString().includes("#Directions")||window.history.pushState(window.location.href,"",window.location.href+"#Directions"),a.getStops()}),(function(e){a.setState({directionLoaded:!1,directionLoading:!1,error:e})}))},a.state={routeData:[],route:"",routeChanged:!1,routeLoaded:!1,routeLoading:!1,directionData:[],direction:"",directionLoaded:!1,directionLoading:!1,stopData:[],stopLoaded:!1,stopLoading:!1,error:null},a.getStops=a.getStops.bind(Object(u.a)(a)),a.directionHandler=a.directionHandler.bind(Object(u.a)(a)),a.routeHandler=a.routeHandler.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"route-container"},o.a.createElement(g,{routeLoaded:this.state.routeLoaded,routeData:this.state.routeData,routeHandler:this.routeHandler,routeChanged:this.state.routeChanged}),o.a.createElement("div",{className:"directions-container","data-testid":"Direction-Container"},o.a.createElement(f,{directionLoaded:this.state.directionLoaded,directionData0:this.state.directionData[0],directionData1:this.state.directionData[1],directionHandler:this.directionHandler,testDirection:!1}))),o.a.createElement("div",{className:"stops-container","data-testid":"Stops-Container"},o.a.createElement("h2",null,"Stops"),o.a.createElement(D,{stopLoaded:this.state.stopLoaded,stopData:this.state.stopData}),o.a.createElement(m.a,{path:"/stops",render:function(){return o.a.createElement(D,{stopLoaded:e.state.stopLoaded,stopData:e.state.stopData})}})))}}]),t}(n.Component));var E=function(){return window.location.href.toString().includes("NexTrip")||window.history.pushState(window.location.href,"",window.location.href+"NexTrip"),o.a.createElement(h.a,null,o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"note"},o.a.createElement("h4",null,"This application is sourced by real-time data from "),o.a.createElement("img",{alt:"Metro Transit Logo",src:"https://www.metrotransit.org/img/MetroTransitLogo.svg"})),o.a.createElement("h1",null,"NexTrip"),o.a.createElement("div",{className:"application"},o.a.createElement(m.a,{exact:!0,path:"/NexTrip",component:L}))))};i.a.render(o.a.createElement(E,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.8aa9846c.chunk.js.map